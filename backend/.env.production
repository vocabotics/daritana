# Daritana Backend Production Environment Configuration

# ========================================
# Server Configuration
# ========================================
NODE_ENV=production
PORT=7001
HOST=0.0.0.0
FRONTEND_URL=https://daritana.com

# ========================================
# Database Configuration (Production)
# ========================================
# Use environment-specific connection string from hosting provider
DATABASE_URL=postgresql://user:password@production-db-host:5432/daritana_prod?schema=public&connection_limit=20&pool_timeout=20

# ========================================
# JWT Configuration (CHANGE THESE IN PRODUCTION!)
# ========================================
# Generate strong secrets: openssl rand -base64 64
JWT_SECRET=CHANGE-THIS-TO-STRONG-SECRET-MIN-64-CHARS-LONG-IN-PRODUCTION-ENVIRONMENT
JWT_REFRESH_SECRET=CHANGE-THIS-TO-DIFFERENT-STRONG-SECRET-MIN-64-CHARS-LONG
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# ========================================
# Redis Configuration (Production - Use managed Redis)
# ========================================
REDIS_URL=redis://production-redis-host:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_TLS=true

# ========================================
# Email Configuration (Production)
# ========================================
SENDGRID_API_KEY=SG.your-sendgrid-api-key
FROM_EMAIL=noreply@daritana.com
FROM_NAME=Daritana Platform

# ========================================
# File Upload Configuration (Production)
# ========================================
UPLOAD_DIRECTORY=/var/uploads
MAX_FILE_SIZE=104857600
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,dwg,dxf

# ========================================
# AWS S3 Configuration (Production)
# ========================================
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=ap-southeast-1
AWS_S3_BUCKET=daritana-production-files
AWS_CLOUDFRONT_DOMAIN=cdn.daritana.com

# ========================================
# Monitoring Configuration (Production)
# ========================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
LOG_LEVEL=error
ENABLE_REQUEST_LOGGING=true

# ========================================
# API Rate Limiting (Production - More restrictive)
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# CORS Configuration (Production)
# ========================================
CORS_ORIGIN=https://daritana.com,https://www.daritana.com
CORS_CREDENTIALS=true

# ========================================
# Security Configuration (Production)
# ========================================
# Generate: openssl rand -base64 32
SESSION_SECRET=CHANGE-THIS-TO-STRONG-SECRET-MIN-64-CHARS-FOR-SESSION-ENCRYPTION
CSRF_SECRET=CHANGE-THIS-TO-STRONG-SECRET-MIN-64-CHARS-FOR-CSRF-PROTECTION
BCRYPT_ROUNDS=12

# ========================================
# SSL/TLS Configuration
# ========================================
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000
SSL_CERT_PATH=/etc/ssl/certs/daritana.crt
SSL_KEY_PATH=/etc/ssl/private/daritana.key

# ========================================
# Feature Flags (Production)
# ========================================
ENABLE_FILE_PROCESSING=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_AI_FEATURES=true
ENABLE_COMPLIANCE_CHECKER=true

# ========================================
# OAuth Configuration (Production)
# ========================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret

# ========================================
# Payment Gateway (Production)
# ========================================
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
FPX_MERCHANT_ID=your-fpx-merchant-id
FPX_SECRET_KEY=your-fpx-secret-key

# ========================================
# Malaysian-specific Configuration
# ========================================
DEFAULT_TIMEZONE=Asia/Kuala_Lumpur
DEFAULT_CURRENCY=MYR
DEFAULT_LANGUAGE=en

# ========================================
# Performance Configuration
# ========================================
MAX_CONNECTIONS=100
QUERY_TIMEOUT=30000
ENABLE_QUERY_LOGGING=false
ENABLE_COMPRESSION=true

# ========================================
# Backup Configuration
# ========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=daritana-backups

# ========================================
# Health Check Configuration
# ========================================
HEALTH_CHECK_PATH=/health
ENABLE_METRICS=true
METRICS_PORT=9090
