# Daritana Architecture Management System
# Environment Configuration Template
# Copy this file to .env and update with your values

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=production
PORT=8080
FRONTEND_PORT=3000

# ============================================
# APPLICATION URLs
# ============================================
VITE_API_URL=https://api.yourdomain.com/api
VITE_SOCKET_URL=https://api.yourdomain.com
FRONTEND_URL=https://yourdomain.com
BACKEND_URL=https://api.yourdomain.com

# ============================================
# DATABASE
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_USER=daritana_prod
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
DB_NAME=daritana
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ============================================
# REDIS
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
JWT_SECRET=GENERATE_WITH_OPENSSL_RAND_BASE64_32
JWT_REFRESH_SECRET=GENERATE_WITH_OPENSSL_RAND_BASE64_32
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=GENERATE_WITH_OPENSSL_RAND_BASE64_32
COOKIE_SECRET=GENERATE_WITH_OPENSSL_RAND_BASE64_32

# ============================================
# CORS & SECURITY
# ============================================
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,api.yourdomain.com
TRUSTED_PROXIES=true
SECURE_COOKIES=true
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# ============================================
# FILE STORAGE
# ============================================
STORAGE_TYPE=local
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=104857600
ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.xls,.xlsx,.dwg,.dxf,.skp,.rvt

# Google Drive (Optional)
GOOGLE_DRIVE_CLIENT_ID=your_client_id
GOOGLE_DRIVE_CLIENT_SECRET=your_client_secret
GOOGLE_DRIVE_REDIRECT_URI=https://api.yourdomain.com/api/auth/google/callback
GOOGLE_DRIVE_FOLDER_ID=your_folder_id

# OneDrive (Optional)
ONEDRIVE_CLIENT_ID=your_client_id
ONEDRIVE_CLIENT_SECRET=your_client_secret
ONEDRIVE_REDIRECT_URI=https://api.yourdomain.com/api/auth/onedrive/callback
ONEDRIVE_TENANT_ID=common

# AWS S3 (Optional)
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_REGION=ap-southeast-1
AWS_S3_BUCKET=daritana-uploads

# ============================================
# EMAIL CONFIGURATION
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password
EMAIL_FROM=Daritana <noreply@yourdomain.com>
EMAIL_REPLY_TO=support@yourdomain.com

# ============================================
# PAYMENT GATEWAY (Malaysian)
# ============================================
# FPX Integration
FPX_MERCHANT_ID=your_merchant_id
FPX_EXCHANGE_ID=your_exchange_id
FPX_SELLER_ID=your_seller_id
FPX_SELLER_BANK_CODE=your_bank_code
FPX_PRIVATE_KEY_PATH=/app/certs/fpx_private.key
FPX_PUBLIC_KEY_PATH=/app/certs/fpx_public.key
FPX_ENDPOINT=https://fpx.mepsfpx.com.my/FPXMain/seller2DReceiver.jsp

# Stripe (Alternative)
STRIPE_PUBLIC_KEY=pk_live_your_public_key
STRIPE_SECRET_KEY=sk_live_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================
# AI FEATURES (ARIA)
# ============================================
# OpenRouter API (for all AI features)
VITE_OPENROUTER_API_KEY=your_openrouter_api_key_here
VITE_OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# AI Models
VITE_AI_MODEL_CHAT=openai/gpt-4-turbo-preview
VITE_AI_MODEL_FAST=openai/gpt-3.5-turbo
VITE_AI_MODEL_EMBEDDINGS=openai/text-embedding-3-small
VITE_AI_MODEL_VISION=openai/gpt-4-vision-preview
VITE_AI_MODEL_CODE=anthropic/claude-3-opus

# AI Budget & Monitoring
VITE_AI_MONTHLY_BUDGET_USD=1000
VITE_AI_ALERT_THRESHOLD_PERCENT=80

# Vector Database - Pinecone (Optional)
VITE_PINECONE_API_KEY=your_pinecone_api_key
VITE_PINECONE_ENVIRONMENT=your_pinecone_environment
VITE_PINECONE_INDEX_NAME=daritana-knowledge-base

# ============================================
# THIRD-PARTY INTEGRATIONS
# ============================================
# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CLIENT_ID=your_client_id
SLACK_CLIENT_SECRET=your_client_secret
VITE_SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
VITE_SLACK_SIGNING_SECRET=your_slack_signing_secret
VITE_SLACK_APP_TOKEN=xapp-your-slack-app-token

# Microsoft Teams
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/WEBHOOK/URL

# WhatsApp Business API
VITE_WHATSAPP_BUSINESS_PHONE_ID=your_phone_number_id
VITE_WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
VITE_WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token

# GitHub Actions (CI/CD)
GITHUB_TOKEN=ghp_your_personal_access_token
DOCKER_USERNAME=your_docker_hub_username
DOCKER_PASSWORD=your_docker_hub_password

# ============================================
# MONITORING & ANALYTICS
# ============================================
# Sentry
SENTRY_DSN=https://your_key@sentry.io/your_project_id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Google Analytics
GA_TRACKING_ID=G-YOUR_TRACKING_ID

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=daritana
OTEL_TRACES_ENABLED=true
OTEL_METRICS_ENABLED=true
OTEL_LOGS_ENABLED=true

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_REAL_TIME_COLLABORATION=true
ENABLE_AI_FEATURES=true
ENABLE_MARKETPLACE=true
ENABLE_DOCUMENT_REVIEW=true
ENABLE_ADVANCED_PM=true
ENABLE_PWA=true
ENABLE_MOBILE_API=true

# ============================================
# PERFORMANCE
# ============================================
CACHE_TTL=3600
ENABLE_CACHE=true
ENABLE_COMPRESSION=true
ENABLE_RATE_LIMITING=true
WORKER_THREADS=4
CLUSTER_WORKERS=auto

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups
BACKUP_ENCRYPT=true
BACKUP_ENCRYPTION_KEY=GENERATE_WITH_OPENSSL

# ============================================
# SSL/TLS
# ============================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem
SSL_CA_PATH=/etc/letsencrypt/live/yourdomain.com/chain.pem
LETSENCRYPT_EMAIL=admin@yourdomain.com
LETSENCRYPT_DOMAINS=yourdomain.com,www.yourdomain.com,api.yourdomain.com

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=/var/log/daritana
LOG_FILE_ENABLED=true
LOG_CONSOLE_ENABLED=true
LOG_ROTATION_ENABLED=true
LOG_MAX_SIZE=10M
LOG_MAX_FILES=10
LOG_COMPRESS=true

# ============================================
# ARIA Configuration
# ============================================
# Platform URL for links in notifications
VITE_PLATFORM_URL=https://daritana.com

# Company branding
VITE_COMPANY_NAME=Daritana Architecture
VITE_COMPANY_LOGO_URL=https://daritana.com/logo.png

# ============================================
# DEVELOPMENT (Only for development environment)
# ============================================
DEBUG=false
MOCK_DATA=false
DISABLE_AUTH=false
DISABLE_HTTPS=false

# ============================================
# NOTES
# ============================================
# 1. Generate secure secrets with: openssl rand -base64 32
# 2. Never commit .env file to version control
# 3. Keep this template updated with new variables
# 4. Ensure all production values are properly set
# 5. Test configuration before deploying to production